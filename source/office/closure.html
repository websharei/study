<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  </head>
  <body>
      <script>

        // 변수의 scope1
        // var msg = "hello jquery";
        // function hello()
        // {
        //   var msg = "hello javascript";
        //   console.log(msg);
        // }
        // hello();

        // 변수의 scope2
        // var msg = "hello jquery";
        // function hello()
        // {
        //   console.log(msg);
        // }
        // hello();

        // 변수의 scope3
        // var msg = "hello jquery";
        // function hello()
        // {
        //   var msg = "hello javascript";
        //   function innerFunction()
        //   {
        //     console.log(msg);
        //   }
        //   innerFunction();
        //   console.log(msg);
        // }
        // hello();
        // console.log(msg);

        // lexical Scope : 함수가 정의(선언)된 위치에 따라 scope가 결정된다.
        // 예제 1,2,3의 렉시컬구조를 그려본다.
        // - environment
        //   - environment record
        //   - outer environment

        // 클로저 : 독립적인 (자유) 변수 (지역적으로 사용되지만, 둘러싼 범위 안에서 정의된 변수)를 참조하는 함수들이다. 다른 말로 하면, 이 함수들은 그들이 생성된 환경을 '기억'한다.
        // var msg = "hello jquery";
        // function hello()
        // {
        //   var msg = "hello javascript";
        //   function innerFunction()
        //   {
        //     console.log(msg);
        //   }
        //   return innerFunction;
        // }
        // var hello2 = hello();
        // hello2();

        // 클로저 예 1)
        // var msg = "hello javascript";
        // function hello(msg)
        // {
        //   function innerFunction()
        //   {
        //     console.log(msg);
        //   }
        //   return innerFunction;
        // }
        // var hello2 = hello(msg);
        // hello2();

        // 클로저 예 2)
        // function hello(name)
        // {
        //   function innerFunction(msg)
        //   {
        //     console.log(msg + name);
        //   }
        //   return innerFunction;
        // }
        // var hello2 = hello("javascript");
        // hello2("hello ");

        // 클로저 예 3)
        // var name;
        // function hello()
        // {
        //   function innerFunction(msg)
        //   {
        //     console.log(msg + name);
        //   }
        //   return innerFunction;
        // }
        //
        // name = "jquery";
        // var hello2 = hello();
        //
        // name = "javascript";
        // var hello3 = hello();
        //
        // hello2("hello ");
        // hello3("hello ");

        // 클로저 예 4) 비클로저 VS 클로저
        // function addCount()
        // {
        //   var count = 0;
        //   count++;
        //   console.log(count);
        // }
        // addCount();
        // addCount();
        // addCount()

        // function addCount()
        // {
        //   var count = 0;
        //   function innerFunction()
        //   {
        //     count++;
        //     console.log(count);
        //   }
        //   return innerFunction;
        // }
        //
        // var counter = addCount();
        // console.log(counter());
        // console.log(counter());
        // console.log(counter());

        // var msg = "결과는 : "
        // function addCount(func)
        // {
        //   var msg = "result : "
        //   var count = 0;
        //   setInterval(function(){
        //     count++;
        //     func(count);
        //   }, 1000);
        // }
        //
        // function printFunction(result)
        // {
        //   console.log(msg + result);
        // }
        // addCount(printFunction);

        // 클로저 예 5) 비클로저 VS 클로저
        // function loopTest()
        // {
        //   for(var i = 0 ; i <= 10 ;i++)
        //   {
        //     setTimeout(function(){console.log(i)}, 1000)
        //   }
        // }
        //
        // loopTest();

        // function loopTest()
        // {
        //     for(var i = 0 ; i <= 10 ;i++)
        //     {
        //       (function(i){
        //         setTimeout(function(){console.log(i)}, 1000);
        //       })(i);
        //     }
        // }
        // loopTest();

        // function loopTest()
        // {
        //     for(var i = 0 ; i <= 10 ;i++)
        //     {
        //       (function(){
        //         var num = i;
        //         setTimeout(function(){console.log(num)}, 1000);
        //       })();
        //     }
        // }
        // loopTest();


      </script>
      <button id = "btn">버튼</button>
    </body>
</html>
