<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>시험</title>
<style>
div {
width: 100px;
height: 100px;
background-color: black;
margin: 3px;
padding : 20px;
float: left;
font-size:4em;
color: white;
font-weight: bold;
text-align: center;
border-radius: 0%;
}
#movieclip {
width: 80px;
height: 80px;
position: absolute;
background-color: black;
border: 10px solid white;
opacity: 0.8;
border-radius: 50%;
}
</style>
</head>
<body>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>
//step1. 첫번째 div의 id에 movieclip 이라는 이름을 준다.
var $movieclip = $("div:first-child");
$movieclip.attr("id","movieclip");
var $unMovieclip = $("div[id!=movieclip]");
var prevMovieclip;

$unMovieclip.each(function(){

	//step2. 모든 div에 0~100사이의 값을 준다.
	var randomNum = Math.floor(Math.random() * 100) + 1;
	var target = $(this);
	target.text(randomNum);

	//step3. 클릭한 지점으로 movieclip div을 움직인다.
	var $position = target.position();



	target.on("click",function(){
		$movieclip.animate({"top": $position.top});
		$movieclip.animate({"left": $position.left});

		//step4  클릭한 지점의 div의 숫자를 조사 한 후 거기에 맞는 색상을 칠한다.
		var numStr = Number(target.text());
		var color;

		if(numStr >= 80) {
			color = "red";
		} else if(numStr >= 60){
			color = "blue";
		} else if(numStr >= 40) {
			color = "gray";
		} else if(numStr >= 20){
			color = "yellow";
		} else if(numStr >= 0){
			color = "green";
		}

		target.animate({"backgroundColor": color});

		//step5  div를 클릭하면 이전 div의 모양을 바꾼다. 짝수 일 경우 동그라미로 바꾼다.
		if(prevMovieclip){
			prevMovieclip.animate({"border-radius": "50%"});
		}

		if(numStr%2 == 0){
			prevMovieclip = target;
		} else {
			prevMovieclip = null;
		}

	});
});
</script>
</body>
</html>
